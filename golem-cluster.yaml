cluster_name: golem-cluster

min_workers: 3
max_workers: 4

provider:
  type: "external"
  use_internal_ips: true
  module: "golem_ray.client.node_provider.GolemNodeProvider"
  parameters:
    golem_ray_url: "http://localhost:8080"
    image_hash: "0ce63e86c7c7afeee38c2a7282e0f778089eea727d7bc65c82549976"
    network: "goerli"
    budget: 1000

file_mounts:
  {
      "/tmp/golem": "/tmp/golem"
  }

available_node_types:
  "ray.head.default":
    max_workers: 0
    resources: {"CPU": 1}
    node_config:
      apiVersion: v1
      kind: Pod
      metadata:
        generateName: ray-head-
        labels:
          component: ray-head
  "ray.worker.default":
    max_workers: 5
    resources: {"CPU": 1}
    node_config:
      apiVersion: v1
      kind: Pod
      metadata:
        generateName: ray-worker-
        labels:
          component: ray-worker

setup_commands: []
head_setup_commands: []
worker_setup_commands: []

head_start_ray_commands: ["ray start --head --port 6380 --dashboard-port 8266 --autoscaling-config=~/ray_bootstrap_config.yaml"]
worker_start_ray_commands: []
initialization_commands: ["pip install pandas"]
auth:
  ssh_user: 'test'

cluster_synced_files: []
